# ============================================================================
# FpelAICCTV - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection string (Supabase or self-hosted)
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/detection_db

# SSL verification for database (set to "true" for local dev without certs)
DB_SSL_DISABLE_VERIFY=false

# ----------------------------------------------------------------------------
# API Security
# ----------------------------------------------------------------------------
# API key for authenticating requests (change in production!)
API_KEY=111-1111-1-11-1-11-1-1

# ----------------------------------------------------------------------------
# CORS & Origins
# ----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8080

# ----------------------------------------------------------------------------
# File Storage
# ----------------------------------------------------------------------------
# Directory for storing detection images
# Docker: /app/images
# Azure: /home/images
# Local: ./images
IMAGES_DIR=./images

# Directory for static frontend files (auto-detected if not set)
STATIC_DIR=

# ----------------------------------------------------------------------------
# Detection Worker Configuration (for WebJobs or separate detection process)
# ----------------------------------------------------------------------------
# Base URL of the FastAPI backend
API_BASE_URL=http://localhost:8000/api/v1

# Detection confidence threshold (0.0 to 1.0)
CONFIDENCE_THRESHOLD=0.5

# Frame processing dimensions
DETECTION_WIDTH=640
DETECTION_HEIGHT=480

# Process every Nth frame to reduce CPU load
FRAME_STRIDE=5

# Minimum seconds between detection events for same camera
EVENT_COOLDOWN_SECONDS=5

# Minimum seconds between snapshots for same tracked object
TRACK_COOLDOWN_SECONDS=30

# Minimum bounding box area to filter out tiny detections
MIN_BOX_AREA=1000

# Camera IDs to monitor (comma-separated UUIDs, empty = all cameras)
CAMERA_IDS=

# Include offline cameras in detection worker
INCLUDE_OFFLINE=false

# OpenCV/FFmpeg capture options (advanced)
OPENCV_FFMPEG_CAPTURE_OPTIONS=rtsp_transport;tcp;fflags;genpts+nobuffer;flags;low_delay

# ----------------------------------------------------------------------------
# Azure-specific (App Service, WebJobs)
# ----------------------------------------------------------------------------
# Oryx automatically sets PYTHONPATH, but you can override if needed
# PYTHONPATH=/home/site/wwwroot

# Ensure Python output is unbuffered for real-time logs
PYTHONUNBUFFERED=1

# ----------------------------------------------------------------------------
# Optional: Alert Configuration (if implementing Telegram/Siren alerts)
# ----------------------------------------------------------------------------
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_CHAT_ID=
# SIREN_IP_ADDRESS=
# SIREN_PORT=
